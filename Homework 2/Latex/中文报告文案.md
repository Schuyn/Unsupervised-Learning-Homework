<!--
 * @Author: Chuyang Su cs4570@columbia.edu
 * @Date: 2025-10-09 12:38:18
 * @LastEditors: Please set LastEditors
 * @LastEditTime: 2025-10-30 21:47:12
 * @FilePath: /Unsupervised-Learning-Homework/Homework 2/Latex/中文报告文案.md
 * @Description: 
   * 这是我的作业文稿中文版，用md语言进行书写
 * 不要为了努力道歉
-->
在对数据进行聚类之前，我先对数据应用了降维方法，基于Homework 1的结论，以及对于这个数据集和本次实验目标————在其上进行聚类————的理解，我这次选用了PCA之后实施UMAP方法的策略，将数据压缩至二维，这样做的意义有：
- PCA可以去掉多余的噪声变量，压缩维度
- UMAP可以在PCA空间上进一步压缩维度，方便之后的可视化的同时也可以更直观地揭示局部结构
参数选择上，这里直接使用在Homework 1得到的结论：
- PCA选择CV图中的肘区位置30作为超参数，也即保留前30个主成分，这是在保留最多有效信息的前提下最大程度的降维
- UMAP则通过热力图，选择n_neighbors=10, min_dist=0.0, n_components=2 or 10作为参数，其中2d主要是用于可视化，而10d是用于后续聚类操作的输入。

在处理完降维之后，我们用这部分数据依次分别进行了KMeans, GMM, Spectral Clustering, Agglomerative Clustering, DBSCAN的聚类操作，在已知共有五类的情况下，我选择除了DBSCAN以外统一设置k=5，以方便比较效果。其中由于spectral clustering在其内部已经做了类似umap的工作，在umap空间上运行spectral clustering会尝试在已经被扭曲过一次的图上进行谱分解，这相当于是在一个局部解上进行全局的最优化，这将无疑导致灾难性的后果，因此我选择在pca上进行spectral clustering的求解。另外，众所周知hierachical clustering尤其是AgglomerativeClustering有四种linkage可选，可是在我的实验中只选择了三种，即ward，average和complete，并没有选择single，原因有三：
- single linkage极易受到单个异常样本的影响，产生“链状效应”，而我们的数据集又是高维连续性样本，可以预见结果不会好看
- 在结果不会好看的基础上，single的算法复杂度也很高，且结果难以用轮廓系数衡量，这使得我将支付很多无意义的成本
- 目前的三个linkage已经覆盖了主流类型，作为对比已经足够展示层次聚类的行为差异
综上，KMeans, GMM, Spectral Clustering, DBSCAN， Agglomerative Clustering（ward，average和complete）共7个就是我选择的聚类方法，除了上述的特例外，其余均采用统一的或默认的参数。从结果可以看出：
- Kmeans除了右上角的Basal like和右下角的Normal like以外，对于其他原本就在umap 2d空间中混杂在一起的类别数据并不能有效区分，所得出的聚类没有任何参考价值，这也体现了kmeans在处理非球形异方差数据时分类能力差的短板
- 由于假设相同，gmm得出了跟kmeans几乎完全一样的结论，也暴露了相同的短板
- spectral clustering的表现同样称不上多好，但是相比于kmeans可以看到，它将右上角Basal like下面的多个类别混杂的部分标记为了一类，或许是倾向于将在相近空间结构却不属于同一类的样本看作了“一类”
- DBSCAN应该是所有方法里最特殊的一类，它只分出了三类，而将其余的一律标记为了noise，事实上，这才是将聚类形状刻画的最完美的方法，虽然它将其余两类标记为noise放弃识别，但是通过观察数据我们也可以知道，其实被略去的两类，也就是HER2-enriched和Normal-like本就是在五类中样本数倒数第二（53）和第一少（7）的————加起来还没有第三少的Base-like（79）多————而且从umap的结果也可以看到是与其他类混合最严重的————仅比它们两类之和略多的Base-like恰恰是最紧密的，这说明这类特征虽然不是很多但是在空间结构上十分相近————因此放弃识别这两类是合理的，目前来看，DBSCAN是我最满意的方法，取得的聚类效果最好
- 对于Agglomerative Clustering，总体来说三类表现大差不差
  - 从ward开始说，由于本数据本身就不具备满足欧氏距离的条件，自然结果与kmeans和gmm相近
  - average是这三者中表现最好的。
  - complete在五类的情况下与average以及ward均没有明显区别，但是考虑到其特性，或许会在之后调整参数后，在各自的最优参数下展现出完全不同的样子。